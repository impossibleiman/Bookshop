<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bookshop</title>
    <link rel="stylesheet" type="text/css" media="screen" href="styles2.css" />
</head>

<body>

    <div class="topnav">
        <div class="burger">
            
            <button class="topicon" onclick="toggleMenu()">
                <div class="line"></div>
                <div class="line"></div>
                <div class="line"></div>
            </button>

            <div id="Links" class="hidden">
                <a href="index.html">Home</a>
                <a href="aboutus.html">About Us</a>
                <a href="contactus.html">Contact Us</a>
            </div>
        
        </div>
        
        <div class="title">
            <h1>Bookshop</h1>
        </div>
        
        <div class="search">
            <form oninput="filterBooks()">
                <input type="text" placeholder="Search by name or author" name="search">
            </form>
        </div>

        <div class="cart">
            <button onclick="toggleCart()">Cart</button>
            <div id="cartItems" class="hidden-reverse">
                <h3>Your Items</h3>
                <div id="checkoutButtonDiv">
                    <button id="checkoutbutton">Checkout</button>
                    <!--    <button id="removebutton">Remove</button>  -->
                </div>
            </div>
        </div>

    </div>
    
    <script>
        function toggleMenu() {
          var x = document.getElementById("Links");
          x.classList.toggle("slide-in");
        }

        function filterBooks() {
            const input = document.querySelector('input[name="search"]');
            const filter = input.value.toLowerCase();
            const cards = document.querySelectorAll('.card');

            cards.forEach(card => {
                const title = card.getAttribute('data-title').toLowerCase();
                const author = card.getAttribute('data-author').toLowerCase();
                if (title.includes(filter) || author.includes(filter)) {
                    card.style.display = ""; // Show matching card
                } else {
                    card.style.display = "none"; // Hide non-matching card
                }
            });
        }

        function toggleCart() {
            var x = document.getElementById("cartItems");
            x.classList.toggle("slide-in-reverse");
        }

        function addToCart(title, author){
            var x = document.getElementById("cartItems");
            var item = document.createElement("div");
            var checkoutButton = document.getElementById("checkoutButtonDiv");
            var cartDiv = document.createElement("div"); // Create a new div for cart items
            x.appendChild(cartDiv); // Append the new div to the cartItems div

            cartDiv.appendChild(item); // Append the item to the new div


            item.innerHTML = "<h4>Book Title: </h4><h5>" + title + "</h5><h4>Author: </h4><h5>" + author + "</h5><button id='removebutton' onclick='removeFromCart(this)'>Remove</button>";
        }
                    function removeFromCart(element) {
                        var parent = element.parentNode;
                        parent.parentNode.removeChild(parent);

        }

        function checkout(){
            //Bring Items in cart to payment screen
        }
    </script>

    <div class="container">

        <div class="card" data-title="Dune" data-author="Frank Herbert">
            <div class="slide slide1">
                <div class="content">
                    <div class="icon">
                        <img src="images/book1.webp" width="266.666667" height="400" alt="Book Cover">
                    </div>
                    <div class="arrow">
                        <p>â†’</p>
                    </div>
                </div>
            </div>
            <div class="slide slide2">
                <div class="content">
                    <h2>Dune</h2>
                    <h4>By Frank Herbert</h4>
                    <p>Paul Atreides, heir to House Atreides, finds himself thrust into a dangerous political game on the desert planet Arrakis, the only source of the valuable spice melange, essential for interstellar travel and extended life, when his family is betrayed and he must survive and fulfill his destiny as a messianic leader.</p>
                    <button onclick="addToCart('Dune', 'Frank Herbert')">Add to Cart</button>


                </div>
            </div>
        </div>

        <div class="card" data-title="On Earth We're Briefly Gorgeous" data-author="Ocean Vuong">
            <div class="slide slide1">
                <div class="content">
                    <div class="icon">
                        <img src="images/book2.jpg" width="266.666667" height="400" alt="Book Cover">
                    </div>
                </div>
            </div>
            <div class="slide slide2">
                <div class="content">
                    <h2>On Earth We're Briefly Gorgeous</h2>
                    <h4>By Ocean Vuong</h4>
                    <p></p>
                    <button onclick="addToCart('On Earth We\'re Briefly Gorgeous', 'Ocean Vuong')">Add to Cart</button>
                </div>
            </div>
        </div>

        <div class="card" data-title="Across the River and into The Trees" data-author="Ernest Hemingway">
            <div class="slide slide1">
                <div class="content">
                    <div class="icon">
                        <img src="images/book3.jpg" width="266.666667" height="400" alt="Book Cover">
                    </div>
                </div>
            </div>
            <div class="slide slide2">
                <div class="content">
                    <h2>Across the River and into The Trees</h2>
                    <h4>By Ernest Hemingway</h4>
                    <p></p>
                    <button onclick="addToCart('Across the River and into The Trees', 'Ernest Hemingway')">Add to Cart</button>

                </div>
            </div>
        </div>



    </div>
</html>
